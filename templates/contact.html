<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - Centro de Investigaci√≥n del C√°ncer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .map-placeholder {
            background-color: #e5e7eb;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Header -->
    <header class="bg-gradient-to-r from-red-600 to-red-800 text-white py-4 shadow-md">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold">Centro de Investigaci√≥n del C√°ncer</h1>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="{{ url_for('home') }}" class="hover:text-red-200">Inicio</a></li>
                    <li><a href="{{ url_for('information') }}" class="hover:text-red-200">Informaci√≥n</a></li>
                    <li><a href="{{ url_for('visualization') }}" class="hover:text-red-200">Visualizaci√≥n</a></li>
                    <li><a href="{{ url_for('contact') }}" class="hover:text-red-200">Contacto</a></li>
                    <li><a href="{{ url_for('auth') }}" class="hover:text-red-200">Iniciar Sesi√≥n/Registrarse</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Secci√≥n de Cabecera -->
    <section class="bg-gradient-to-r from-blue-800 to-blue-600 text-white py-20 text-center">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl md:text-5xl font-serif font-bold mb-6">Cont√°ctanos</h1>
            <p class="text-lg md:text-xl mb-8 text-blue-100">
                Ponte en contacto con nuestro equipo para consultas, colaboraciones o para aprender m√°s sobre nuestra investigaci√≥n.
            </p>
        </div>
    </section>

    <!-- Informaci√≥n de Contacto -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Formulario de Contacto -->
                <div class="bg-gray-50 rounded-lg shadow-md p-6">
    <div id="contactFormContainer">
        <form id="contactForm" class="space-y-4">
            <div>
                <label for="fullName" class="block text-gray-700 font-medium mb-1">Nombre Completo*</label>
                <input type="text" id="fullName" name="fullName" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            </div>
            <div>
                <label for="phoneNumber" class="block text-gray-700 font-medium mb-1">Tel√©fono*</label>
                <input type="tel" id="phoneNumber" name="phoneNumber" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            </div>
            <div>
                <label for="email" class="block text-gray-700 font-medium mb-1">Email*</label>
                <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            </div>
            <div>
                <label for="message" class="block text-gray-700 font-medium mb-1">Mensaje</label>
                <textarea id="message" name="message" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
            </div>
            <button type="submit" class="w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300">
                Enviar Mensaje
            </button>
        </form>
    </div>
    <div id="successMessage" class="hidden mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded">
        <p>¬°Mensaje enviado con √©xito! Nos pondremos en contacto contigo pronto.</p>
    </div>
    <div id="errorMessage" class="hidden mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"></div>
</div>
                <!-- Detalles de Contacto -->
                <div>
                    <h2 class="text-2xl font-serif font-bold text-gray-900 mb-6">Informaci√≥n de Contacto</h2>
                    <div class="bg-gray-50 rounded-lg shadow-md p-6 mb-6">
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="mr-4 mt-1 text-blue-600">üìç</span>
                                <div>
                                    <h3 class="font-medium text-gray-900">Direcci√≥n</h3>
                                    <p class="text-gray-600">
                                        123 Avenida de Investigaci√≥n, Distrito M√©dico<br>
                                        Nueva York, NY 10001<br>
                                        Estados Unidos
                                    </p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-4 mt-1 text-blue-600">üìû</span>
                                <div>
                                    <h3 class="font-medium text-gray-900">Tel√©fono</h3>
                                    <p class="text-gray-600">
                                        Principal: +1 (555) 123-4567<br>
                                        Departamento de Investigaci√≥n: +1 (555) 234-5678<br>
                                        An√°lisis de Datos: +1 (555) 345-6789
                                    </p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-4 mt-1 text-blue-600">‚úâÔ∏è</span>
                                <div>
                                    <h3 class="font-medium text-gray-900">Correo Electr√≥nico</h3>
                                    <p class="text-gray-600">
                                        Consultas Generales: <a href="mailto:info@cancerresearch.org" class="text-blue-600 hover:underline">info@cancerresearch.org</a><br>
                                        Colaboraci√≥n en Investigaci√≥n: <a href="mailto:research@cancerresearch.org" class="text-blue-600 hover:underline">research@cancerresearch.org</a><br>
                                        Relaciones con los Medios: <a href="mailto:media@cancerresearch.org" class="text-blue-600 hover:underline">media@cancerresearch.org</a>
                                    </p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-4 mt-1 text-blue-600">‚è∞</span>
                                <div>
                                    <h3 class="font-medium text-gray-900">Horarios</h3>
                                    <p class="text-gray-600">
                                        Lunes - Viernes: 9:00 AM - 5:00 PM<br>
                                        S√°bado: 10:00 AM - 2:00 PM<br>
                                        Domingo: Cerrado
                                    </p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Redes Sociales -->
    <section class="py-12 bg-gray-50">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-2xl font-serif font-bold text-gray-900 mb-6">S√≠guenos en Redes Sociales</h2>
            <div class="flex justify-center space-x-6">
                <a href="https://instagram.com/+59168599507" target="_blank" class="text-blue-600 hover:text-blue-800">
                    <span class="text-3xl">üì∏</span>
                </a>
                <a href="https://wa.me/+59168599507" target="_blank" class="text-green-600 hover:text-green-800">
                    <span class="text-3xl">üí¨</span>
                </a>
                <a href="https://t.me/+59168599507" target="_blank" class="text-blue-400 hover:text-blue-600">
                    <span class="text-3xl">üìû</span>
                </a>
                <a href="https://x.com/+59168599507" target="_blank" class="text-gray-800 hover:text-gray-900">
                    <span class="text-3xl">üê¶</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Secci√≥n del Mapa -->
    <section class="py-12 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-2xl font-serif font-bold text-gray-900 mb-6 text-center">Encu√©ntranos</h2>
            <div class="map-placeholder">
                <p class="text-gray-500">Placeholder del mapa - En una aplicaci√≥n real, esto ser√≠a un mapa interactivo.</p>
            </div>
        </div>
    </section>

    <script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const form = e.target;
    const submitButton = form.querySelector('button[type="submit"]');
    const errorElement = document.getElementById('errorMessage');
    const successElement = document.getElementById('successMessage');
    
    // Estado de carga
    submitButton.disabled = true;
    submitButton.innerHTML = 'Enviando...';
    errorElement.classList.add('hidden');
    successElement.classList.add('hidden');

    try {
        const formData = new FormData(form);
        const response = await fetch('{{ url_for("submit_contact") }}', {
            method: 'POST',
            body: formData
        });
        
        // Verificar si la respuesta es JSON
        const contentType = response.headers.get('content-type');
        if (!contentType || !contentType.includes('application/json')) {
            const text = await response.text();
            throw new Error(text || 'Respuesta no JSON del servidor');
        }
        
        const data = await response.json();
        
        if (!response.ok || !data.success) {
            throw new Error(data.message || 'Error en el servidor');
        }
        
        // √âxito
        successElement.textContent = data.message;
        successElement.classList.remove('hidden');
        form.reset();
        
    } catch (error) {
        console.error('Error:', error);
        errorElement.textContent = error.message.includes('<!DOCTYPE html>') 
            ? 'Error en el servidor. Por favor intente m√°s tarde.' 
            : error.message;
        errorElement.classList.remove('hidden');
    } finally {
        submitButton.disabled = false;
        submitButton.textContent = 'Enviar Mensaje';
    }
});
</script>
</body>
</html>